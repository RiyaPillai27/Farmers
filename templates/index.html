{% extends 'base.html' %}

{% load static %}

{% block 'main' %}

<div class="row mt-3">
    <div class="col-md-4 bg-light p-3">
        <h5>Filter by category</h5>
        <hr>
        <p><a class="anchor" href="/catfilter/1">By Vegetables</a></p>
        <p><a class="anchor" href="/catfilter/2">By Fruits</a></p>
        <p><a class="anchor" href="/catfilter/3">By Grocery</a></p>

        <h5>Filter by price Range</h5>
        <hr>
        <form action="/range">
            <div class="mb-3">
                <label for="Input1" class="form-label text-primary">Min Value</label>
                <input type="number" name="min" class="form-control" id="Input1" placeholder="minimun value">
              </div>
              <div class="mb-3">
                <label for="Input2" class="form-label text-primary">Max Value</label>
                <input type="number" name="max" class="form-control" id="Input2" placeholder="maximun value">
              </div>
              <div class="mb-3">
                <input type="submit" class="btn btn-primary" value="Submit">
              </div>
        </form>
        <h5>Sort By Price</h5>
        <hr>
        <p><a href="/sort/0" class="anchor" >Low to High</a></p>
        <p><a href="/sort/1" class="anchor">High to low</a></p>
    </div><!--filter side bar ends-->
    <div class="col-md-8">
        <div class="row">
            {% for x in product %}
            <div class="col-md-4 mt-4">
                <div class="card" style="width:100%;">
                    <img src="{{x.pimage.url}}" width="100%" height="230px" class="card-img-top" alt="...">
                    <div class="card-body">
                       <h5 class="card-title">{{x.name}}</h5>
                       <p class="card-text">{{x.price}}</p>
                       {% if x.cat == 1 %}
                           <p class="card-text">Vegetables</p>
                       {% elif x.cat == 2 %}
                           <p class="card-text">Fruits</p>
                       {% else %}
                           <p class="card-text">Grocery</p>
                       {% endif %}           
                       <a href="/pdetails/{{x.id}}" class="btn btn-primary">See Details</a>
                    </div>
                </div>
            </div><!--product 1 div-->
            {% endfor %}
        </div>
    </div><!--product div ends-->

</div><!--filter and products div ends-->

{% endblock 'main' %}